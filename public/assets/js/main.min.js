!function(){var t={};t.Controllers={},t.Widgets={},t.State={};var i=function(){return console.log.apply(console,arguments),arguments[0]},e=function(){var t=0;return function(){return t++}}();t.Widgets.All={},t.Widgets.get=function(i){return t.Widgets.All[i.data("widget-id")]},t.Widgets.Base=function(n){this.dom={main:n},this.config=n.data(),this.type=this.config.widget,this.id=e(),t.Widgets.All[this.id]=this,this.dom.main.attr("data-widget-id",this.id),i("New widget:",this.type,this.id,this.dom.main[0])},t.Controllers.home=function(e,n){i('Page controller "home" is running!'),n('[data-widget="slider"]').each(function(){var i=$(this),e=$(this).data();t.Widgets.slider(i,e)})},t.Widgets.fullHeight=function(i){t.Widgets.Base.apply(this,arguments);var e=this.config.offset||0;$(window).on("resize",function(){i.height(window.innerHeight-e)})},t.Widgets["widget-name"]=function(){t.Widgets.Base.apply(this,arguments)},t.Widgets.rigid=function(i){t.Widgets.Base.apply(this,arguments);var e=this.config.ratio||1,n=document.createElement("canvas");n.width=100,n.height=100*e;var s=new Image;s.src=n.toDataURL();var a=$(s);a.css({display:"block",width:"100%",height:"auto",visibility:"hidden",position:"relative",zIndex:-1}).appendTo(i)},t.Widgets.slider=function(t){i("Slider widget initialised!"),t.text("I am now a slider!")},$(function(){$("[data-widget]").each(function(){var i=$(this).data("widget"),e=$(this);t.Widgets[i]?new t.Widgets[i](e,e.data()):console.error("Widget",i,"unknown!")}),$("[data-page-controller]").each(function(){var i=$(this).data("page-controller");if(t.Controllers[i]){var e=$(this);t.Controllers[i](e,function(t){return $(t,e)})}else console.error("Page controller",i,"requested but not found!")})})}();