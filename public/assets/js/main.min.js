!function(){var t={};t.Controller={},t.Widgets={},t.State={};var e=function(){return console.log.apply(console,arguments),arguments[0]};t.Widgets.Base=function(t){this.dom={main:t},this.config=t.data(),this.type=this.config.widget,e("New widget:",this.type),t.data("instance",this)},t.Controllers.home=function(i,n){e('Page controller "home" is running!'),n('[data-widget="slider"]').each(function(){var e=$(this),i=$(this).data();t.Widgets.slider(e,i)})},t.Widgets.fullHeight=function(e){t.Widgets.Base.apply(this,arguments);var i=this.config.offset||0;$(window).on("resize",function(){e.height(window.innerHeight-i)})},t.Widgets.rigid=function(e){t.Widgets.Base.apply(this,arguments);var i=this.config.ratio||1,n=document.createElement("canvas");n.width=100,n.height=100*i;var o=new Image;o.src=n.toDataURL();var a=$(o);a.css({display:"block",width:"100%",height:"auto",visibility:"hidden",position:"relative",zIndex:-1}).appendTo(e)},t.Widgets.slider=function(t){e("Slider widget initialised!"),t.text("I am now a slider!")},$(function(){$("[data-page-controller]").each(function(){var e=$(this).data("page-controller");if(t.Controllers[e]){var i=$(this);t.Controllers[e](i,function(t){return $(t,i)})}else console.error("Page controller",e,"requested but not found!")})})}();